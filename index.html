<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Rock Paper Scissors</title>
    </head>
    <body>
      <button id="Rock">Rock</button>
      <button id="Paper">Paper</button>
      <button id="Scissors">Scissors</button>
      <div id="container"></div>
    </body>
    <script>
        // Global variables
        let userWins = 0;
        let computerWins = 0;
        // First I'm going to create a function that returns a random integer between min and max (both included)
        function getRndInteger(min, max) {
            return Math.floor(Math.random() * (max - min + 1) ) + min;
        }
        // Next I'm going to create a function that converts the integer returned by 'getRndInteger' in a proper value for the game
        function computerPlay() {
            const num = getRndInteger(1,3);
            if (num === 1) {
                return "Rock";
            } else if (num === 2) {
                return "Paper";
            } else {
                return "Scissors";
            }
        }
        // Next I'm going to create a function that plays one round of the game. It has 2 inputs (user and computer elections). The
        // output is a string declaring the winner of the round
        function playRound(playerSelection) {
            // Lets generate computer election
            const computerSelection = computerPlay();
            // Select the container 'div' with a query
            const container = document.querySelector('#container');
            // Create a new 'div' for the result of the round
            const roundResult = document.createElement('div');
            roundResult.classList.add('roundResult');

            if (playerSelection === computerSelection) {
                roundResult.textContent = 'Draw! Nobody wins';
            } else if (playerSelection === "Rock" && computerSelection === "Paper") {
                computerWins++;
                roundResult.textContent = 'You lose! Paper beats Rock';
            } else if (playerSelection === "Rock" && computerSelection === "Scissors") {
                userWins++;
                roundResult.textContent = 'You win! Rock beats Scissors';
            } else if (playerSelection === "Paper" && computerSelection === "Scissors") {
                computerWins++;
                roundResult.textContent = 'You lose! Scissors beats Paper';
            } else if (playerSelection === "Paper" && computerSelection === "Rock") {
                userWins++;
                roundResult.textContent = 'You win! Paper beats Rock';
            } else if (playerSelection === "Scissors" && computerSelection === "Paper") {
                userWins++;
                roundResult.textContent = 'You win! Scissors beats Paper';
            } else if (playerSelection === "Scissors" && computerSelection === "Rock") {
                computerWins++;
                roundResult.textContent = 'You lose! Rock beats Scissors';
            }
            // At last, append the child (DOM)
            container.appendChild(roundResult);
        }
        // Add event listeners to the buttons created, calling the function to play a round on each click
        const buttons = document.querySelectorAll('button');
        buttons.forEach((button) => {
            button.addEventListener('click', () => {
                playRound(button.id);
            });
        });
        // The last step consist in create a function that plays 5 rounds and declare the winner after that
        function game() {
            console.log(`You have won ${userWins} times and computer has won ${computerWins} times`);
            if (userWins > computerWins) {
                console.log("You win the game!!! :-)");
            } else if (computerWins > userWins) {
                console.log("Computer wins the game!!! :-(");
            } else {
                console.log("Nobody wins");
            }
        }

        //Let's play!!!
        game();
    </script>
</html>