<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Rock Paper Scissors</title>
    </head>
    <body>
      <button id="Rock">Rock</button>
      <button id="Paper">Paper</button>
      <button id="Scissors">Scissors</button>
      <div>

      </div>
    </body>
    <script>
        // Global variables
        let userWins = 0;
        let computerWins = 0;
        // First I'm going to create a function that returns a random integer between min and max (both included)
        function getRndInteger(min, max) {
            return Math.floor(Math.random() * (max - min + 1) ) + min;
        }
        // Next I'm going to create a function that converts the integer returned by 'getRndInteger' in a proper value for the game
        function computerPlay() {
            const num = getRndInteger(1,3);
            if (num === 1) {
                return "Rock";
            } else if (num === 2) {
                return "Paper";
            } else {
                return "Scissors";
            }
        }
        // Return the text with only the first letter capitalized. Be careful! text can have some letters capitalized yet
        /*
        function capitalize(text) {
            let lowerCased = text.toLowerCase();
            let firstChar = lowerCased.substr(0,1);
            let firstCharUpperCased = firstChar.toUpperCase();
            return lowerCased.replace(firstChar,firstCharUpperCased);
        }
        */
        // Next I'm going to create a function that plays one round of the game. It has 2 inputs (user and computer elections). The
        // output is a string declaring the winner of the round
        function playRound(playerSelection) {
            // Lets generate computer election
            const computerSelection = computerPlay();
            // Ask the user for his/her election
            //const playerSelection = prompt("Please enter your election (Rock / Paper / Scissors): ");
            // We need to format the string in order to have only the first letter capitalized
            //const formattedPlayerSelec = capitalize(playerSelection);

            if (playerSelection === computerSelection) {
                console.log("Draw! Nobody wins");
            } else if (playerSelection === "Rock" && computerSelection === "Paper") {
                computerWins++;
                console.log("You lose! Paper beats Rock");
            } else if (playerSelection === "Rock" && computerSelection === "Scissors") {
                userWins++;
                console.log("You win! Rock beats Scissors");
            } else if (playerSelection === "Paper" && computerSelection === "Scissors") {
                computerWins++;
                console.log("You lose! Scissors beats Paper");
            } else if (playerSelection === "Paper" && computerSelection === "Rock") {
                userWins++;
                console.log("You win! Paper beats Rock");
            } else if (playerSelection === "Scissors" && computerSelection === "Paper") {
                userWins++;
                console.log("You win! Scissors beats Paper");
            } else if (playerSelection === "Scissors" && computerSelection === "Rock") {
                computerWins++;
                console.log("You lose! Rock beats Scissors");
            }
        }
        // Add event listeners to the buttons created, calling the function to play a round on each click
        const buttons = document.querySelectorAll('button');
        buttons.forEach((button) => {
            button.addEventListener('click', () => {
                playRound(button.id);
            });
        });
        // The last step consist in create a function that plays 5 rounds and declare the winner after that
        function game() {
            /*for (let i = 0; i < 5; i++){
                let roundResult = playRound();
                console.log(roundResult);
            }*/
            console.log(`You have won ${userWins} times and computer has won ${computerWins} times`);
            if (userWins > computerWins) {
                console.log("You win the game!!! :-)");
            } else if (computerWins > userWins) {
                console.log("Computer wins the game!!! :-(");
            } else {
                console.log("Nobody wins");
            }
        }

        //Let's play!!!
        game();
    </script>
</html>